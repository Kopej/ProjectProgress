var landsat8 = ee.ImageCollection("LANDSAT/LC08/C02/T1_TOA");

var landsat9 = ee.ImageCollection("LANDSAT/LC09/C02/T1_TOA")

var rgbVis = {
  min: 0.0,
  max: 0.3,
  bands: ['B1', 'B2', 'B3'],
};

var ndviVis = {min:0, max:1, palette: ['green', 'white']};

var nbr2Vis = {min:0, max:2, palette: ['red', 'white']};

var b3MinusB2Vis = {min:-1, max:1, palette: ['blue', 'red']};

var b2MinusB1Vis = {min:-1, max:1, palette: ['white', 'red']};

//2013
var filtered = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2013-01-01', '2013-03-31')
  .filterBounds(geometry);
  
var filtered2 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2013-04-01', '2013-06-30')
  .filterBounds(geometry);
  
var filtered3 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2013-07-01', '2013-09-30')
  .filterBounds(geometry);
  
var filtered4 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2013-10-01', '2013-12-31')
  .filterBounds(geometry);
  
var filtered5 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2013-01-01', '2013-12-31')
  .filterBounds(geometry);
//2014  
var filtered6 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2014-01-01', '2014-03-31')
  .filterBounds(geometry);
  
var filtered7 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2014-03-01', '2014-06-30')
  .filterBounds(geometry);
  
var filtered8 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2014-07-01', '2014-09-30')
  .filterBounds(geometry);
  
var filtered9 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2014-10-01', '2014-12-31')
  .filterBounds(geometry);
  
var filtered10 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2014-01-01', '2014-12-31')
  .filterBounds(geometry);
//2015  
var filtered11 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2015-01-01', '2015-03-31')
  .filterBounds(geometry);
  
var filtered12 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2015-04-01', '2015-06-30')
  .filterBounds(geometry);
  
var filtered13 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2015-07-01', '2015-09-30')
  .filterBounds(geometry);
  
var filtered14 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2015-10-01', '2015-12-31')
  .filterBounds(geometry);
  
var filtered15 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2015-01-01', '2015-12-31')
  .filterBounds(geometry);
//2016  
var filtered16 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2016-01-01', '2016-03-31')
  .filterBounds(geometry);
  
var filtered17 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2016-04-01', '2016-06-30')
  .filterBounds(geometry);
  
var filtered18 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2016-07-01', '2016-09-30')
  .filterBounds(geometry);
  
var filtered19 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2016-10-01', '2016-12-31')
  .filterBounds(geometry);
  
var filtered20 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2016-01-01', '2016-12-31')
  .filterBounds(geometry);
//2017  
var filtered21 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2017-01-01', '2017-03-31')
  .filterBounds(geometry);
  
var filtered22 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2017-04-01', '2017-06-30')
  .filterBounds(geometry);
  
var filtered23 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2017-07-01', '2017-09-30')
  .filterBounds(geometry);
  
var filtered24 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2017-10-01', '2017-12-31')
  .filterBounds(geometry);
  
var filtered25 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2017-01-01', '2017-12-31')
  .filterBounds(geometry);
//2018  
var filtered26 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2018-01-01', '2018-03-31')
  .filterBounds(geometry);
  
var filtered27 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2018-04-01', '2018-06-30')
  .filterBounds(geometry);
  
var filtered28 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2018-07-01', '2018-09-30')
  .filterBounds(geometry);
  
var filtered29 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2018-10-01', '2018-12-31')
  .filterBounds(geometry);
  
var filtered30 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2018-01-01', '2018-12-31')
  .filterBounds(geometry);
//2019  
var filtered31 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2019-01-01', '2019-03-31')
  .filterBounds(geometry);
  
var filtered32 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2019-04-01', '2019-06-30')
  .filterBounds(geometry);
  
var filtered33 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2019-07-01', '2019-09-30')
  .filterBounds(geometry);
  
var filtered34 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2019-10-01', '2019-12-31')
  .filterBounds(geometry);
  
var filtered35 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2019-01-01', '2019-12-31')
  .filterBounds(geometry);
//2020  
var filtered36 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2020-01-01', '2020-03-31')
  .filterBounds(geometry);
  
var filtered37 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2020-04-01', '2020-06-30')
  .filterBounds(geometry);
  
var filtered38 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2020-07-01', '2020-09-30')
  .filterBounds(geometry);
  
var filtered39 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2020-10-01', '2020-12-31')
  .filterBounds(geometry);
  
var filtered40 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2020-01-01', '2020-12-31')
  .filterBounds(geometry);
//2021  
var filtered41 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2021-01-01', '2021-03-31')
  .filterBounds(geometry);
  
var filtered42 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2021-04-01', '2021-06-30')
  .filterBounds(geometry);
  
var filtered43 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2021-07-01', '2021-09-30')
  .filterBounds(geometry);
  
var filtered44 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2021-10-01', '2021-12-31')
  .filterBounds(geometry);
  
var filtered45 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2021-01-01', '2021-12-31')
  .filterBounds(geometry);
//2022  
var filtered46 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2022-01-01', '2022-03-31')
  .filterBounds(geometry);
  
var filtered47 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2022-04-01', '2022-06-30')
  .filterBounds(geometry);
  
var filtered48 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2022-07-01', '2022-09-30')
  .filterBounds(geometry);
  
var filtered49 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2022-10-01', '2022-12-31')
  .filterBounds(geometry);
  
var filtered50 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2022-01-01', '2022-12-31')
  .filterBounds(geometry);
//2023  
var filtered51 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2023-01-01', '2023-03-31')
  .filterBounds(geometry);
  
var filtered52 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2023-04-01', '2023-06-30')
  .filterBounds(geometry);
  
var filtered53 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2023-07-01', '2023-09-30')
  .filterBounds(geometry);
  
var filtered54 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2023-10-01', '2023-12-31')
  .filterBounds(geometry);
  
var filtered55 = landsat8
  .filter(ee.Filter.lt('CLOUD_COVER', 30))
  .filterDate('2013-01-01', '2023-12-31')
  .filterBounds(geometry);
  
var medianComposite = filtered.median().clip(geometry);
var medianComposite2 = filtered2.median().clip(geometry);
var medianComposite3 = filtered3.median().clip(geometry);
var medianComposite4 = filtered4.median().clip(geometry);
var medianComposite5 = filtered5.median().clip(geometry);
var medianComposite6 = filtered6.median().clip(geometry);
var medianComposite7 = filtered7.median().clip(geometry);
var medianComposite8 = filtered8.median().clip(geometry);
var medianComposite9 = filtered9.median().clip(geometry);
var medianComposite10 = filtered10.median().clip(geometry);
var medianComposite11 = filtered11.median().clip(geometry);
var medianComposite12 = filtered12.median().clip(geometry);
var medianComposite13 = filtered13.median().clip(geometry);
var medianComposite14 = filtered14.median().clip(geometry);
var medianComposite15 = filtered15.median().clip(geometry);
var medianComposite16 = filtered16.median().clip(geometry);
var medianComposite17 = filtered17.median().clip(geometry);
var medianComposite18 = filtered18.median().clip(geometry);
var medianComposite19 = filtered19.median().clip(geometry);
var medianComposite20 = filtered20.median().clip(geometry);
var medianComposite21 = filtered21.median().clip(geometry);
var medianComposite22 = filtered22.median().clip(geometry);
var medianComposite23 = filtered23.median().clip(geometry);
var medianComposite24 = filtered24.median().clip(geometry);
var medianComposite25 = filtered25.median().clip(geometry);
var medianComposite26 = filtered26.median().clip(geometry);
var medianComposite27 = filtered27.median().clip(geometry);
var medianComposite28 = filtered28.median().clip(geometry);
var medianComposite29 = filtered29.median().clip(geometry);
var medianComposite30 = filtered30.median().clip(geometry);
var medianComposite31 = filtered31.median().clip(geometry);
var medianComposite32 = filtered32.median().clip(geometry);
var medianComposite33 = filtered33.median().clip(geometry);
var medianComposite34 = filtered34.median().clip(geometry);
var medianComposite35 = filtered35.median().clip(geometry);
var medianComposite36 = filtered36.median().clip(geometry);
var medianComposite37 = filtered37.median().clip(geometry);
var medianComposite38 = filtered38.median().clip(geometry);
var medianComposite39 = filtered39.median().clip(geometry);
var medianComposite40 = filtered40.median().clip(geometry);
var medianComposite41 = filtered41.median().clip(geometry);
var medianComposite42 = filtered42.median().clip(geometry);
var medianComposite43 = filtered43.median().clip(geometry);
var medianComposite44 = filtered44.median().clip(geometry);
var medianComposite45 = filtered45.median().clip(geometry);
var medianComposite46 = filtered46.median().clip(geometry);
var medianComposite47 = filtered47.median().clip(geometry);
var medianComposite48 = filtered48.median().clip(geometry);
var medianComposite49 = filtered49.median().clip(geometry);
var medianComposite50 = filtered50.median().clip(geometry);
var medianComposite51 = filtered51.median().clip(geometry);
var medianComposite52 = filtered52.median().clip(geometry);
var medianComposite53 = filtered53.median().clip(geometry);
var medianComposite54 = filtered54.median().clip(geometry);
var medianComposite55 = filtered55.median().clip(geometry);

function cloudMask(image){
  var qa = image.select('QA_PIXEL');
    // Convert QA_PIXEL band to integer
  qa = qa.toInt();
  
  var dilated = 1<<1;
  var cirrus = 1<<2;
  var cloud = 1<<3;
  var shadow = 1<<4;
  
  var mask = qa.bitwiseAnd(dilated).eq(0)
      .and(qa.bitwiseAnd(cirrus).eq(0))
      .and(qa.bitwiseAnd(cloud).eq(0))
      .and(qa.bitwiseAnd(shadow).eq(0));
      
  return image.updateMask(mask);
}

// Apply cloud masking function to the median composite
var maskedComposite = cloudMask(medianComposite).blend(medianComposite5);
var maskedComposite2 = cloudMask(medianComposite2).blend(medianComposite5);
var maskedComposite3 = cloudMask(medianComposite3).blend(medianComposite5);
var maskedComposite4 = cloudMask(medianComposite4).blend(medianComposite5);
var maskedComposite5 = cloudMask(medianComposite5).blend(medianComposite5);
var maskedComposite6 = cloudMask(medianComposite6).blend(medianComposite10);
var maskedComposite7 = cloudMask(medianComposite7).blend(medianComposite10);
var maskedComposite8 = cloudMask(medianComposite8).blend(medianComposite10);
var maskedComposite9 = cloudMask(medianComposite9).blend(medianComposite10);
var maskedComposite10 = cloudMask(medianComposite10).blend(medianComposite10);
var maskedComposite11 = cloudMask(medianComposite11).blend(medianComposite15);
var maskedComposite12 = cloudMask(medianComposite12).blend(medianComposite15);
var maskedComposite13 = cloudMask(medianComposite13).blend(medianComposite15);
var maskedComposite14 = cloudMask(medianComposite14).blend(medianComposite15);
var maskedComposite15 = cloudMask(medianComposite15).blend(medianComposite15);
var maskedComposite16 = cloudMask(medianComposite16).blend(medianComposite20);
var maskedComposite17 = cloudMask(medianComposite17).blend(medianComposite20);
var maskedComposite18 = cloudMask(medianComposite18).blend(medianComposite20);
var maskedComposite19 = cloudMask(medianComposite19).blend(medianComposite20);
var maskedComposite20 = cloudMask(medianComposite20).blend(medianComposite20);
var maskedComposite21 = cloudMask(medianComposite21).blend(medianComposite25);
var maskedComposite22 = cloudMask(medianComposite22).blend(medianComposite25);
var maskedComposite23 = cloudMask(medianComposite23).blend(medianComposite25);
var maskedComposite24 = cloudMask(medianComposite24).blend(medianComposite25);
var maskedComposite25 = cloudMask(medianComposite25).blend(medianComposite25);
var maskedComposite26 = cloudMask(medianComposite26).blend(medianComposite30);
var maskedComposite27 = cloudMask(medianComposite27).blend(medianComposite30);
var maskedComposite28 = cloudMask(medianComposite28).blend(medianComposite30);
var maskedComposite29 = cloudMask(medianComposite29).blend(medianComposite30);
var maskedComposite30 = cloudMask(medianComposite30).blend(medianComposite30);
var maskedComposite31 = cloudMask(medianComposite31).blend(medianComposite35);
var maskedComposite32 = cloudMask(medianComposite32).blend(medianComposite35);
var maskedComposite33 = cloudMask(medianComposite33).blend(medianComposite35);
var maskedComposite34 = cloudMask(medianComposite34).blend(medianComposite35);
var maskedComposite35 = cloudMask(medianComposite35).blend(medianComposite35);
var maskedComposite36 = cloudMask(medianComposite36).blend(medianComposite40);
var maskedComposite37 = cloudMask(medianComposite37).blend(medianComposite40);
var maskedComposite38 = cloudMask(medianComposite38).blend(medianComposite40);
var maskedComposite39 = cloudMask(medianComposite39).blend(medianComposite40);
var maskedComposite40 = cloudMask(medianComposite40).blend(medianComposite40);
var maskedComposite41 = cloudMask(medianComposite41).blend(medianComposite45);
var maskedComposite42 = cloudMask(medianComposite42).blend(medianComposite45);
var maskedComposite43 = cloudMask(medianComposite43).blend(medianComposite45);
var maskedComposite44 = cloudMask(medianComposite44).blend(medianComposite45);
var maskedComposite45 = cloudMask(medianComposite45).blend(medianComposite45);


// Function to calculate MBI (Modified Built-up Index)
var addMBI = function(image) {
  var mbi = image.expression(
    '(((B6 - B7 - B5) / (B6 + B7 + B5))+0.5)', {
      'B6': image.select('B6'),   // SWIR1
      'B7': image.select('B7'), // SWIR2
      'B5': image.select('B5')    // NIR
  }).rename('MBI');
  return image.addBands(mbi);
};


// Function to calculate DBSI (Dry Bare Soil Index)
var addDBSI = function(image) {
  var dbsi = image.expression(
    '(((B6 - B3) / (B6 + B3))-((B5-B4)/(B5+B4)))', {
      'B6': image.select('B6'),
      'B5': image.select('B5'),
      'B3': image.select('B3'),
      'B4':image.select('B4')
  }).rename('DBSI');
  return image.addBands(dbsi);
};

// Function to calculate NDBal (Normalized Difference Bareness Index)
var addNDBal = function(image) {
  var ndbal = image.expression(
    '(B6 - B10) / (B6 + B10)', {
      'B6': image.select('B6'),
      'B10': image.select('B10')
  }).rename('NDBal');
  return image.addBands(ndbal);
};

// Function to calculate NBR2 (Normalized Burn Ratio 2)
var addNBR2 = function(image) {
  var nbr2 = image.normalizedDifference(['B6', 'B7']).rename('NBR2');
  return image.addBands(nbr2);
};

// Function to calculate B3-B2
var addB3_B2 = function(image) {
  var b3_b2 = image.expression(
    'B3 - B2', {
      'B3': image.select('B3'),
      'B2': image.select('B2')
  }).rename('B3_B2');
  return image.addBands(b3_b2);
};

// Function to calculate B2-B1
var addB2_B1 = function(image) {
  var b2_b1 = image.expression(
    'B2 - B1', {
      'B2': image.select('B2'),
      'B1': image.select('B1')
  }).rename('B2_B1');
  return image.addBands(b2_b1);
};

// Function to calculate BSI (Bare Soil Index)
var addBSI = function(image) {
  var bsi = image.expression(
    '((B11 + B4) - (B5 + B2)) / ((B11 + B4) + (B5 + B2))', {
      'B11': image.select('B11'), // SWIR2
      'B4': image.select('B4'),   // Red
      'B5': image.select('B5'),   // NIR
      'B2': image.select('B2')    // Blue
  }).rename('BSI');
  return image.addBands(bsi);
};

// Function to calculate NDSI1 (Normalized Difference Soil Index 1)
var addNDSI1 = function(image) {
  var ndsi1 = image.expression(
    '((B6 - B5) / (B6 + B5))', {
      'B6': image.select('B6'),   // SWIR1
      'B5': image.select('B5')    // NIR
  }).rename('NDSI1');
  return image.addBands(ndsi1);
};

// Function to calculate MNDSI (Modified Normalized Difference Soil Index)
var addMNDSI = function(image) {
  var mndsi = image.expression(
    '((B7 - B8) / (B7 + B8))', {
      'B7': image.select('B7'),   // SWIR2
      'B8': image.select('B8')  // PAN band
  }).rename('MNDSI');
  return image.addBands(mndsi);
};

// Function to calculate NBLI (Normalized Burnt Land Index)
var addNBLI = function(image) {
  var nbli = image.expression(
    '((Red - TIR) / (Red + TIR))', {
      'Red': image.select('B4'),   // Red band
      'TIR': image.select('B10')   // TIR (Thermal Infrared) band
  }).rename('NBLI');
  return image.addBands(nbli);
};

// Function to calculate BI (Bareness Index)
var addBI = function(image) {
  var bi = image.expression(
    '(Red + SWIR1 - NIR)', {
      'Red': image.select('B4'),    // Red band
      'SWIR1': image.select('B6'),  // SWIR1 (Shortwave Infrared 1) band
      'NIR': image.select('B5')     // NIR (Near Infrared) band
  }).rename('BI');
  return image.addBands(bi);
};

//MBI INDEX
var mbi = addMBI(maskedComposite).select('B5','B6','B7','MBI');
var mbi2 = addMBI(maskedComposite2).select('B5','B6','B7','MBI');
var mbi3 = addMBI(maskedComposite3).select('B5','B6','B7','MBI');
var mbi4 = addMBI(maskedComposite4).select('B5','B6','B7','MBI');
var mbi5 = addMBI(maskedComposite5).select('B5','B6','B7','MBI');
var mbi6 = addMBI(maskedComposite6).select('B5','B6','B7','MBI');
var mbi7 = addMBI(maskedComposite7).select('B5','B6','B7','MBI');
var mbi8 = addMBI(maskedComposite8).select('B5','B6','B7','MBI');
var mbi9 = addMBI(maskedComposite9).select('B5','B6','B7','MBI');
var mbi10 = addMBI(maskedComposite10).select('B5','B6','B7','MBI');
var mbi11 = addMBI(maskedComposite11).select('B5','B6','B7','MBI');
var mbi12 = addMBI(maskedComposite12).select('B5','B6','B7','MBI');
var mbi13 = addMBI(maskedComposite13).select('B5','B6','B7','MBI');
var mbi14 = addMBI(maskedComposite14).select('B5','B6','B7','MBI');
var mbi15 = addMBI(maskedComposite15).select('B5','B6','B7','MBI');
var mbi16 = addMBI(maskedComposite16).select('B5','B6','B7','MBI');
var mbi17 = addMBI(maskedComposite17).select('B5','B6','B7','MBI');
var mbi18 = addMBI(maskedComposite18).select('B5','B6','B7','MBI');
var mbi19 = addMBI(maskedComposite19).select('B5','B6','B7','MBI');
var mbi20 = addMBI(maskedComposite20).select('B5','B6','B7','MBI');
var mbi21 = addMBI(maskedComposite21).select('B5','B6','B7','MBI');
var mbi22 = addMBI(maskedComposite22).select('B5','B6','B7','MBI');
var mbi23 = addMBI(maskedComposite23).select('B5','B6','B7','MBI');
var mbi24 = addMBI(maskedComposite24).select('B5','B6','B7','MBI');
var mbi25 = addMBI(maskedComposite25).select('B5','B6','B7','MBI');
var mbi26 = addMBI(maskedComposite26).select('B5','B6','B7','MBI');
var mbi27 = addMBI(maskedComposite27).select('B5','B6','B7','MBI');
var mbi28 = addMBI(maskedComposite28).select('B5','B6','B7','MBI');
var mbi29 = addMBI(maskedComposite29).select('B5','B6','B7','MBI');
var mbi30 = addMBI(maskedComposite30).select('B5','B6','B7','MBI');
var mbi31 = addMBI(maskedComposite31).select('B5','B6','B7','MBI');
var mbi32 = addMBI(maskedComposite32).select('B5','B6','B7','MBI');
var mbi33 = addMBI(maskedComposite33).select('B5','B6','B7','MBI');
var mbi34 = addMBI(maskedComposite34).select('B5','B6','B7','MBI');
var mbi35 = addMBI(maskedComposite35).select('B5','B6','B7','MBI');
var mbi36 = addMBI(maskedComposite36).select('B5','B6','B7','MBI');
var mbi37 = addMBI(maskedComposite37).select('B5','B6','B7','MBI');
var mbi38 = addMBI(maskedComposite38).select('B5','B6','B7','MBI');
var mbi39 = addMBI(maskedComposite39).select('B5','B6','B7','MBI');
var mbi40 = addMBI(maskedComposite40).select('B5','B6','B7','MBI');
var mbi41 = addMBI(maskedComposite41).select('B5','B6','B7','MBI');
var mbi42 = addMBI(maskedComposite42).select('B5','B6','B7','MBI');
var mbi43 = addMBI(maskedComposite43).select('B5','B6','B7','MBI');
var mbi44 = addMBI(maskedComposite44).select('B5','B6','B7','MBI');
var mbi45 = addMBI(maskedComposite45).select('B5','B6','B7','MBI');

// Define visualization parameters for the MBI.
var visParamsMBI = {
  min: -1, // Adjust based on the expected range of your MBI values
  max: 1,
  palette: ['yellow', 'green', 'blue'] // Example palette: low MBI values in yellow, moderate in green, high in blue
};

// Add the MBI layer to the map.
//Map.addLayer(mbi, visParamsMBI, 'MBI');var mbi = addMBI(maskedComposite).select('MBI');

//NBSI1 INDEX
var ndsi1a = addNDSI1(maskedComposite).select('NDSI1');
var ndsi1b = addNDSI1(maskedComposite2).select('NDSI1');
var ndsi1c = addNDSI1(maskedComposite3).select('NDSI1');
var ndsi1d = addNDSI1(maskedComposite4).select('NDSI1');
var ndsi1e = addNDSI1(maskedComposite5).select('NDSI1');
var ndsi1f = addNDSI1(maskedComposite6).select('NDSI1');
var ndsi1g = addNDSI1(maskedComposite7).select('NDSI1');
var ndsi1h = addNDSI1(maskedComposite8).select('NDSI1');
var ndsi1i = addNDSI1(maskedComposite9).select('NDSI1');
var ndsi1j = addNDSI1(maskedComposite10).select('NDSI1');
var ndsi1k = addNDSI1(maskedComposite11).select('NDSI1');
var ndsi1l = addNDSI1(maskedComposite12).select('NDSI1');
var ndsi1m = addNDSI1(maskedComposite13).select('NDSI1');
var ndsi1n = addNDSI1(maskedComposite14).select('NDSI1');
var ndsi1o = addNDSI1(maskedComposite15).select('NDSI1');
var ndsi1p = addNDSI1(maskedComposite16).select('NDSI1');
var ndsi1q = addNDSI1(maskedComposite17).select('NDSI1');
var ndsi1r = addNDSI1(maskedComposite18).select('NDSI1');
var ndsi1s = addNDSI1(maskedComposite19).select('NDSI1');
var ndsi1t = addNDSI1(maskedComposite20).select('NDSI1');
var ndsi1u = addNDSI1(maskedComposite21).select('NDSI1');
var ndsi1v = addNDSI1(maskedComposite22).select('NDSI1');
var ndsi1w = addNDSI1(maskedComposite23).select('NDSI1');
var ndsi1x = addNDSI1(maskedComposite24).select('NDSI1');
var ndsi1y = addNDSI1(maskedComposite25).select('NDSI1');
var ndsi1z = addNDSI1(maskedComposite26).select('NDSI1');
var ndsi1aa = addNDSI1(maskedComposite27).select('NDSI1');
var ndsi1bb = addNDSI1(maskedComposite28).select('NDSI1');
var ndsi1cc = addNDSI1(maskedComposite29).select('NDSI1');
var ndsi1dd = addNDSI1(maskedComposite30).select('NDSI1');
var ndsi1ee = addNDSI1(maskedComposite31).select('NDSI1');
var ndsi1ff = addNDSI1(maskedComposite32).select('NDSI1');
var ndsi1gg = addNDSI1(maskedComposite33).select('NDSI1');
var ndsi1hh = addNDSI1(maskedComposite34).select('NDSI1');
var ndsi1ii = addNDSI1(maskedComposite35).select('NDSI1');
var ndsi1jj = addNDSI1(maskedComposite36).select('NDSI1');
var ndsi1kk = addNDSI1(maskedComposite37).select('NDSI1');
var ndsi1ll = addNDSI1(maskedComposite38).select('NDSI1');
var ndsi1mm = addNDSI1(maskedComposite39).select('NDSI1');
var ndsi1nn = addNDSI1(maskedComposite40).select('NDSI1');
var ndsi1oo = addNDSI1(maskedComposite41).select('NDSI1');
var ndsi1pp = addNDSI1(maskedComposite42).select('NDSI1');
var ndsi1qq = addNDSI1(maskedComposite43).select('NDSI1');
var ndsi1rr = addNDSI1(maskedComposite44).select('NDSI1');
var ndsi1ss = addNDSI1(maskedComposite45).select('NDSI1');

print(ndsi1a)
// Visualization parameters for NDSI1
var visParams = {
    min: -1, // Adjust based on your NDSI1 value range
    max: 1,
    palette: ['blue', 'white', 'brown'] // Example palette: blue for negative (vegetation), brown for positive (bare soil)
};

// Add the NDSI1 index layer to the map
//Map.addLayer(ndsi1a, visParams, 'NDSI1 Index');

//NBR2 INDEX
// Calculate NBR2 index
var nbr2a = maskedComposite.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2b = maskedComposite2.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2c = maskedComposite3.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2d = maskedComposite4.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2e = maskedComposite5.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2f = maskedComposite6.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2g = maskedComposite7.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2h = maskedComposite8.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2i = maskedComposite9.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2j = maskedComposite10.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2k = maskedComposite11.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2l = maskedComposite12.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2m = maskedComposite13.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2n = maskedComposite14.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2o = maskedComposite15.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2p = maskedComposite16.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2q = maskedComposite17.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2r = maskedComposite18.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2s = maskedComposite19.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2t = maskedComposite20.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2u = maskedComposite21.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2v = maskedComposite22.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2w = maskedComposite23.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2x = maskedComposite24.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2y = maskedComposite25.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2z = maskedComposite26.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2aa = maskedComposite27.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2bb = maskedComposite28.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2cc = maskedComposite29.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2dd = maskedComposite30.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2ee = maskedComposite31.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2ff = maskedComposite32.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2gg = maskedComposite33.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2hh = maskedComposite34.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2ii = maskedComposite35.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2jj = maskedComposite36.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2kk = maskedComposite37.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2ll = maskedComposite38.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2mm = maskedComposite39.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2nn = maskedComposite40.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2oo = maskedComposite41.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2pp = maskedComposite42.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2qq = maskedComposite43.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2rr = maskedComposite43.normalizedDifference(['B6', 'B7']).rename('NBR2');
var nbr2ss = maskedComposite43.normalizedDifference(['B6', 'B7']).rename('NBR2');

print(nbr2a)
// Define visualization parameters for the DBSI.
var visParams = {
  min: -1, // Adjust these based on the expected range of your DBSI values
  max: 1,
  palette: ['blue', 'white', 'red'] // Example palette: blue (low DBSI), white (neutral), red (high DBSI)
};

// Add the DBSI layer to the map.
//Map.addLayer(nbr2a, visParams, 'NBR2');

//DBSI INDEX
var dbsi = addDBSI(maskedComposite).select('DBSI');
var dbsi2 = addDBSI(maskedComposite2).select('DBSI');
var dbsi3 = addDBSI(maskedComposite3).select('DBSI');
var dbsi4 = addDBSI(maskedComposite4).select('DBSI');
var dbsi5 = addDBSI(maskedComposite5).select('DBSI');
var dbsi6 = addDBSI(maskedComposite6).select('DBSI');
var dbsi7 = addDBSI(maskedComposite7).select('DBSI');
var dbsi8 = addDBSI(maskedComposite8).select('DBSI');
var dbsi9 = addDBSI(maskedComposite9).select('DBSI');
var dbsi10 = addDBSI(maskedComposite10).select('DBSI');
var dbsi11 = addDBSI(maskedComposite11).select('DBSI');
var dbsi12 = addDBSI(maskedComposite12).select('DBSI');
var dbsi13 = addDBSI(maskedComposite13).select('DBSI');
var dbsi14 = addDBSI(maskedComposite14).select('DBSI');
var dbsi15 = addDBSI(maskedComposite15).select('DBSI');
var dbsi16 = addDBSI(maskedComposite16).select('DBSI');
var dbsi17 = addDBSI(maskedComposite17).select('DBSI');
var dbsi18 = addDBSI(maskedComposite18).select('DBSI');
var dbsi19 = addDBSI(maskedComposite19).select('DBSI');
var dbsi20 = addDBSI(maskedComposite20).select('DBSI');
var dbsi21 = addDBSI(maskedComposite21).select('DBSI');
var dbsi22 = addDBSI(maskedComposite22).select('DBSI');
var dbsi23 = addDBSI(maskedComposite23).select('DBSI');
var dbsi24 = addDBSI(maskedComposite24).select('DBSI');
var dbsi25 = addDBSI(maskedComposite25).select('DBSI');
var dbsi26 = addDBSI(maskedComposite26).select('DBSI');
var dbsi27 = addDBSI(maskedComposite27).select('DBSI');
var dbsi28 = addDBSI(maskedComposite28).select('DBSI');
var dbsi29 = addDBSI(maskedComposite29).select('DBSI');
var dbsi30 = addDBSI(maskedComposite30).select('DBSI');
var dbsi31 = addDBSI(maskedComposite31).select('DBSI');
var dbsi32 = addDBSI(maskedComposite32).select('DBSI');
var dbsi33 = addDBSI(maskedComposite33).select('DBSI');
var dbsi34 = addDBSI(maskedComposite34).select('DBSI');
var dbsi35 = addDBSI(maskedComposite35).select('DBSI');
var dbsi36 = addDBSI(maskedComposite36).select('DBSI');
var dbsi37 = addDBSI(maskedComposite37).select('DBSI');
var dbsi38 = addDBSI(maskedComposite38).select('DBSI');
var dbsi39 = addDBSI(maskedComposite39).select('DBSI');
var dbsi40 = addDBSI(maskedComposite40).select('DBSI');
var dbsi41 = addDBSI(maskedComposite41).select('DBSI');
var dbsi42 = addDBSI(maskedComposite42).select('DBSI');
var dbsi43 = addDBSI(maskedComposite43).select('DBSI');
var dbsi44 = addDBSI(maskedComposite44).select('DBSI');
var dbsi45 = addDBSI(maskedComposite45).select('DBSI');

print(dbsi)




// Define visualization parameters for the DBSI.
var visParams = {
  min: -1, // Adjust these based on the expected range of your DBSI values
  max: 1,
  palette: ['blue', 'white', 'red'] // Example palette: blue (low DBSI), white (neutral), red (high DBSI)
};

// Add the DBSI layer to the map.
//Map.centerObject(geometry, 20);
//Map.addLayer(dbsi, visParams, 'DBSI');

//B3-B2 INDEX
/*// Calculate B3-B2
var b3MinusB2a = maskedComposite.select('B3').subtract(maskedComposite.select('B2')).rename('b3_2013_1');

var visParams = {
  min: -1, // Adjust these based on the expected range of your DBSI values
  max: 1,
  palette: ['blue', 'white', 'red'] // Example palette: blue (low DBSI), white (neutral), red (high DBSI)
};

// Add the DBSI layer to the map.
Map.addLayer(b3MinusB2a, visParams, 'DBSI');*/


//NDVI
var ndvi = maskedComposite.normalizedDifference(['B5', 'B4']).rename(['ndvi_2013_1']);

var visParams = {
  min: -1, // Adjust these based on the expected range of your DBSI values
  max: 1,
  palette: ['blue', 'white', 'red'] // Example palette: blue (low DBSI), white (neutral), red (high DBSI)
};

// Add the DBSI layer to the map.
//Map.centerObject(geometry, 20)
//Map.addLayer(ndvi, visParams, 'NDVI');

//DBSI INDEX
var mndsi = addMNDSI(maskedComposite).select('MNDSI');
var mndsi2 = addMNDSI(maskedComposite2).select('MNDSI');
var mndsi3 = addMNDSI(maskedComposite3).select('MNDSI');
var mndsi4 = addMNDSI(maskedComposite4).select('MNDSI');
var mndsi5 = addMNDSI(maskedComposite5).select('MNDSI');
var mndsi6 = addMNDSI(maskedComposite6).select('MNDSI');
var mndsi7 = addMNDSI(maskedComposite7).select('MNDSI');
var mndsi8 = addMNDSI(maskedComposite8).select('MNDSI');
var mndsi9 = addMNDSI(maskedComposite9).select('MNDSI');
var mndsi10 = addMNDSI(maskedComposite10).select('MNDSI');
var mndsi11 = addMNDSI(maskedComposite11).select('MNDSI');
var mndsi12 = addMNDSI(maskedComposite12).select('MNDSI');
var mndsi13 = addMNDSI(maskedComposite13).select('MNDSI');
var mndsi14 = addMNDSI(maskedComposite14).select('MNDSI');
var mndsi15 = addMNDSI(maskedComposite15).select('MNDSI');
var mndsi16 = addMNDSI(maskedComposite16).select('MNDSI');
var mndsi17 = addMNDSI(maskedComposite17).select('MNDSI');
var mndsi18 = addMNDSI(maskedComposite18).select('MNDSI');
var mndsi19 = addMNDSI(maskedComposite19).select('MNDSI');
var mndsi20 = addMNDSI(maskedComposite20).select('MNDSI');
var mndsi21 = addMNDSI(maskedComposite21).select('MNDSI');
var mndsi22 = addMNDSI(maskedComposite22).select('MNDSI');
var mndsi23 = addMNDSI(maskedComposite23).select('MNDSI');
var mndsi24 = addMNDSI(maskedComposite24).select('MNDSI');
var mndsi25 = addMNDSI(maskedComposite25).select('MNDSI');
var mndsi26 = addMNDSI(maskedComposite26).select('MNDSI');
var mndsi27 = addMNDSI(maskedComposite27).select('MNDSI');
var mndsi28 = addMNDSI(maskedComposite28).select('MNDSI');
var mndsi29 = addMNDSI(maskedComposite29).select('MNDSI');
var mndsi30 = addMNDSI(maskedComposite30).select('MNDSI');
var mndsi31 = addMNDSI(maskedComposite31).select('MNDSI');
var mndsi32 = addMNDSI(maskedComposite32).select('MNDSI');
var mndsi33 = addMNDSI(maskedComposite33).select('MNDSI');
var mndsi34 = addMNDSI(maskedComposite34).select('MNDSI');
var mndsi35 = addMNDSI(maskedComposite35).select('MNDSI');
var mndsi36 = addMNDSI(maskedComposite36).select('MNDSI');
var mndsi37 = addMNDSI(maskedComposite37).select('MNDSI');
var mndsi38 = addMNDSI(maskedComposite38).select('MNDSI');
var mndsi39 = addMNDSI(maskedComposite39).select('MNDSI');
var mndsi40 = addMNDSI(maskedComposite40).select('MNDSI');
var mndsi41 = addMNDSI(maskedComposite41).select('MNDSI');
var mndsi42 = addMNDSI(maskedComposite42).select('MNDSI');
var mndsi43 = addMNDSI(maskedComposite43).select('MNDSI');
var mndsi44 = addMNDSI(maskedComposite44).select('MNDSI');
var mndsi45 = addMNDSI(maskedComposite45).select('MNDSI');



print(dbsi)

// Visualization parameters for NDSI1
var visParams = {
    min: -1, // Adjust based on your NDSI1 value range
    max: 1,
    palette: ['blue', 'white', 'brown'] // Example palette: blue for negative (vegetation), brown for positive (bare soil)
};

// Add the NDSI1 index layer to the map
//Map.addLayer(mndsi, visParams, 'MNDSI Index');

//COMBINED BANDS
var combinedImage = mbi.addBands(nbr2a).addBands(mndsi).addBands(ndsi1a).addBands(dbsi);
var combinedImage2 = mbi2.addBands(nbr2b).addBands(mndsi2).addBands(ndsi1b).addBands(dbsi2);
var combinedImage3 = mbi3.addBands(nbr2c).addBands(mndsi3).addBands(ndsi1c).addBands(dbsi3);
var combinedImage4 = mbi4.addBands(nbr2d).addBands(mndsi4).addBands(ndsi1d).addBands(dbsi4);
var combinedImage5 = mbi5.addBands(nbr2e).addBands(mndsi5).addBands(ndsi1e).addBands(dbsi5);
var combinedImage6 = mbi6.addBands(nbr2f).addBands(mndsi6).addBands(ndsi1f).addBands(dbsi6);
var combinedImage7 = mbi7.addBands(nbr2g).addBands(mndsi7).addBands(ndsi1g).addBands(dbsi7);
var combinedImage8 = mbi8.addBands(nbr2h).addBands(mndsi8).addBands(ndsi1h).addBands(dbsi8);
var combinedImage9 = mbi9.addBands(nbr2i).addBands(mndsi9).addBands(ndsi1i).addBands(dbsi9);
var combinedImage10 = mbi10.addBands(nbr2j).addBands(mndsi10).addBands(ndsi1j).addBands(dbsi10);
var combinedImage11 = mbi11.addBands(nbr2k).addBands(mndsi11).addBands(ndsi1k).addBands(dbsi11);
var combinedImage12 = mbi12.addBands(nbr2l).addBands(mndsi12).addBands(ndsi1l).addBands(dbsi12);
var combinedImage13 = mbi13.addBands(nbr2m).addBands(mndsi13).addBands(ndsi1m).addBands(dbsi13);
var combinedImage14 = mbi14.addBands(nbr2n).addBands(mndsi14).addBands(ndsi1n).addBands(dbsi14);
var combinedImage15 = mbi15.addBands(nbr2o).addBands(mndsi15).addBands(ndsi1o).addBands(dbsi15);
var combinedImage16 = mbi16.addBands(nbr2p).addBands(mndsi16).addBands(ndsi1p).addBands(dbsi16);
var combinedImage17 = mbi17.addBands(nbr2q).addBands(mndsi17).addBands(ndsi1q).addBands(dbsi17);
var combinedImage18 = mbi18.addBands(nbr2r).addBands(mndsi18).addBands(ndsi1r).addBands(dbsi18);
var combinedImage19 = mbi19.addBands(nbr2s).addBands(mndsi19).addBands(ndsi1s).addBands(dbsi19);
var combinedImage20 = mbi20.addBands(nbr2t).addBands(mndsi20).addBands(ndsi1t).addBands(dbsi20);
var combinedImage21 = mbi21.addBands(nbr2u).addBands(mndsi21).addBands(ndsi1u).addBands(dbsi21);
var combinedImage22 = mbi22.addBands(nbr2v).addBands(mndsi22).addBands(ndsi1v).addBands(dbsi22);
var combinedImage23 = mbi23.addBands(nbr2w).addBands(mndsi23).addBands(ndsi1w).addBands(dbsi23);
var combinedImage24 = mbi24.addBands(nbr2x).addBands(mndsi24).addBands(ndsi1x).addBands(dbsi24);
var combinedImage25 = mbi25.addBands(nbr2y).addBands(mndsi25).addBands(ndsi1y).addBands(dbsi25);
var combinedImage26 = mbi26.addBands(nbr2z).addBands(mndsi26).addBands(ndsi1z).addBands(dbsi26);
var combinedImage27 = mbi27.addBands(nbr2aa).addBands(mndsi27).addBands(ndsi1aa).addBands(dbsi27);
var combinedImage28 = mbi28.addBands(nbr2bb).addBands(mndsi28).addBands(ndsi1bb).addBands(dbsi28);
var combinedImage29 = mbi29.addBands(nbr2cc).addBands(mndsi29).addBands(ndsi1cc).addBands(dbsi29);
var combinedImage30 = mbi30.addBands(nbr2dd).addBands(mndsi30).addBands(ndsi1dd).addBands(dbsi30);
var combinedImage31 = mbi31.addBands(nbr2ee).addBands(mndsi31).addBands(ndsi1ee).addBands(dbsi31);
var combinedImage32 = mbi32.addBands(nbr2ff).addBands(mndsi32).addBands(ndsi1ff).addBands(dbsi32);
var combinedImage33 = mbi33.addBands(nbr2gg).addBands(mndsi33).addBands(ndsi1gg).addBands(dbsi33);
var combinedImage34 = mbi34.addBands(nbr2hh).addBands(mndsi34).addBands(ndsi1hh).addBands(dbsi34);
var combinedImage35 = mbi35.addBands(nbr2ii).addBands(mndsi35).addBands(ndsi1ii).addBands(dbsi35);
var combinedImage36 = mbi36.addBands(nbr2jj).addBands(mndsi36).addBands(ndsi1jj).addBands(dbsi36);
var combinedImage37 = mbi37.addBands(nbr2kk).addBands(mndsi37).addBands(ndsi1kk).addBands(dbsi37);
var combinedImage38 = mbi38.addBands(nbr2ll).addBands(mndsi38).addBands(ndsi1ll).addBands(dbsi38);
var combinedImage39 = mbi39.addBands(nbr2mm).addBands(mndsi39).addBands(ndsi1mm).addBands(dbsi39);
var combinedImage40 = mbi40.addBands(nbr2nn).addBands(mndsi40).addBands(ndsi1nn).addBands(dbsi40);
var combinedImage41 = mbi41.addBands(nbr2oo).addBands(mndsi41).addBands(ndsi1oo).addBands(dbsi41);
var combinedImage42 = mbi42.addBands(nbr2pp).addBands(mndsi42).addBands(ndsi1pp).addBands(dbsi42);
var combinedImage43 = mbi43.addBands(nbr2qq).addBands(mndsi43).addBands(ndsi1qq).addBands(dbsi43);
var combinedImage44 = mbi44.addBands(nbr2rr).addBands(mndsi44).addBands(ndsi1rr).addBands(dbsi44);
var combinedImage45 = mbi45.addBands(nbr2rr).addBands(mndsi45).addBands(ndsi1rr).addBands(dbsi45);




var criteria = combinedImage.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage.select('MBI'),
    'ndsi1': combinedImage.select('NDSI1'),
    'nbr2': combinedImage.select('NBR2'),
    'dbsi': combinedImage.select('DBSI'),
    'mndsi': combinedImage.select('MNDSI')
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage = combinedImage.updateMask(criteria);
print(classifiedImage)


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage2.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage2.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage2.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage2.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage2.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage2.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
var criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage2 = combinedImage2.updateMask(criteria);
print(classifiedImage2)


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage3.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage3.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage3.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage3.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage3.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage3.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage3 = combinedImage3.updateMask(criteria);
print(classifiedImage3)


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage4.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage4.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage4.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage4.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage4.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage4.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage4 = combinedImage4.updateMask(criteria);
print(classifiedImage4)


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage5.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage5.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage5.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage5.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage5.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage5.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage5 = combinedImage5.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage6.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage6.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage6.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage6.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage6.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage6.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage6 = combinedImage6.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage7.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage7.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage7.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage7.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage7.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage7.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);

// Apply the criteria to the combined image
var classifiedImage7 = combinedImage7.updateMask(criteria);

// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage8.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage8.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage8.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage8.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage8.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage8.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage8 = combinedImage8.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage9.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage9.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage9.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage9.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage9.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage9.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage9 = combinedImage9.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage10.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage10.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage10.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage10.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage10.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage10.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage10 = combinedImage10.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage11.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage11.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage11.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage11.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage11.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage11.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage11 = combinedImage11.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage12.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage12.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage12.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage12.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage12.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage12.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage12 = combinedImage12.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage13.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage13.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage13.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage13.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage13.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage13.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage = combinedImage.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage13.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage13.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage13.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage13.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage13.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage13.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage13 = combinedImage13.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage14.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage14.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage14.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage14.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage14.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage14.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage14 = combinedImage14.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage15.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage15.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage15.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage15.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage15.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage15.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage15 = combinedImage15.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage16.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage16.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage16.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage16.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage16.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage16.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage16 = combinedImage16.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage17.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage17.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage17.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage17.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage17.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage17.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage17 = combinedImage17.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage18.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage18.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage18.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage18.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage18.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage18.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage18 = combinedImage18.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage19.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage19.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage19.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage19.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage19.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage19.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage19 = combinedImage19.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage20.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage20.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage20.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage20.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage20.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage20.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage20 = combinedImage20.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage21.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage21.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage21.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage21.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage21.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage21.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage21 = combinedImage21.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage22.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage22.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage22.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage22.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage22.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage22.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage22 = combinedImage22.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage23.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage23.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage23.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage23.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage23.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage23.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage23 = combinedImage23.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage24.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage24.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage24.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage24.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage24.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage24.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage24 = combinedImage24.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage25.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage25.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage25.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage25.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage25.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage25.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage25 = combinedImage25.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage26.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage26.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage26.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage26.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage26.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage26.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage26 = combinedImage26.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage27.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage27.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage27.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage27.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage27.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage27.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage27 = combinedImage27.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage28.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage28.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage28.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage28.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage28.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage28.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage28 = combinedImage28.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage29.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage29.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage29.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage29.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage29.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage29.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage29 = combinedImage29.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage30.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage30.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage30.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage30.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage30.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage30.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage30 = combinedImage30.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage31.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage31.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage31.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage31.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage31.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage31.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage31 = combinedImage31.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage32.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage32.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage32.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage32.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage32.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage32.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage32 = combinedImage32.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage33.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage33.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage33.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage33.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage33.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage33.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage33 = combinedImage33.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage34.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage34.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage34.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage34.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage34.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage34.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage34 = combinedImage34.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage35.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage35.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage35.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage35.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage35.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage35.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage35 = combinedImage35.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage36.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage36.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage36.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage36.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage36.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage36.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage36 = combinedImage36.updateMask(criteria);



// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage37.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage37.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage37.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage37.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage37.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage37.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage37 = combinedImage37.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage38.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage38.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage38.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage38.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage38.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage38.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage38 = combinedImage38.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage39.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage39.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage39.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage39.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage39.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage39.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage39 = combinedImage39.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage40.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage40.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage40.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage40.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage40.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage40.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage40 = combinedImage40.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage41.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage41.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage41.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage41.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage41.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage41.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage41 = combinedImage41.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage42.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage42.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage42.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage42.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage42.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage42.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage42 = combinedImage42.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage43.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage43.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage43.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage43.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage43.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage43.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage43 = combinedImage43.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage44.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage44.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage44.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage44.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage44.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage44.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage44 = combinedImage44.updateMask(criteria);


// Assuming mbi, nbr2a, mndsi, ndsi1a, dbsi are bands in combinedImage
var criteria = combinedImage45.expression(
  "(mbi > 0.18) && (mbi <= 0.26) && " +
  "(ndsi1 >= -0.05) && (ndsi1 <= 0.06) && " +
  "(nbr2 >= 0.10) && (nbr2 <= 0.17) && " +
  "(dbsi >= -0.03) && (dbsi <= 0.07) && " +
  "(mndsi >= 0.26) && (mndsi <= 0.34)",
  {
    'mbi': combinedImage45.select('MBI'), // Replace 'mbi' with the correct band name if different
    'ndsi1': combinedImage45.select('NDSI1'), // Replace 'ndsi1a' with the correct band name if different
    'nbr2': combinedImage45.select('NBR2'), // Replace 'nbr2a' with the correct band name if different
    'dbsi': combinedImage45.select('DBSI'), // Replace 'dbsi' with the correct band name if different
    'mndsi': combinedImage45.select('MNDSI') // Replace 'mndsi' with the correct band name if different
  }
);

// Convert the expression result to 0s and 1s based on the condition
criteria = criteria.gt(0);
// Apply the criteria to the combined image
var classifiedImage45 = combinedImage45.updateMask(criteria);


// Define visualization parameters for the classified image
var visParamsClassified = {
  min: 0,  // Minimum value of your classified image
  max: 1,  // Maximum value of your classified image
  //palette: ['000000', 'ff0000'] // Example palette: non-bare soil areas in black, bare soil areas in red
};

// Add the classified layer to the map with the defined visualization parameters
Map.centerObject(geometry, 9);
Map.addLayer(classifiedImage, visParamsClassified, 'Classified Bare Soil JanMar2013');
Map.addLayer(classifiedImage2, visParamsClassified, 'Classified Bare Soil AprJun2013');
Map.addLayer(classifiedImage3, visParamsClassified, 'Classified Bare Soil JulSep2013');
Map.addLayer(classifiedImage4, visParamsClassified, 'Classified Bare Soil OctDec2013');
Map.addLayer(classifiedImage5, visParamsClassified, 'Classified Bare Soil JanMar2014');
Map.addLayer(classifiedImage6, visParamsClassified, 'Classified Bare Soil AprJun2014');
Map.addLayer(classifiedImage7, visParamsClassified, 'Classified Bare Soil JulSep2014');
Map.addLayer(classifiedImage8, visParamsClassified, 'Classified Bare Soil OctDec2014');
Map.addLayer(classifiedImage9, visParamsClassified, 'Classified Bare Soil JanMar2015');
Map.addLayer(classifiedImage10, visParamsClassified, 'Classified Bare Soil AprJun2015');
Map.addLayer(classifiedImage11, visParamsClassified, 'Classified Bare Soil JulSep2015');
Map.addLayer(classifiedImage12, visParamsClassified, 'Classified Bare Soil OctDec2015');
Map.addLayer(classifiedImage13, visParamsClassified, 'Classified Bare Soil JanMar2016');
Map.addLayer(classifiedImage14, visParamsClassified, 'Classified Bare Soil AprJun2016');
Map.addLayer(classifiedImage15, visParamsClassified, 'Classified Bare Soil JulSep2016');
Map.addLayer(classifiedImage16, visParamsClassified, 'Classified Bare Soil OctDec2016');
Map.addLayer(classifiedImage17, visParamsClassified, 'Classified Bare Soil JanMar2017');
Map.addLayer(classifiedImage18, visParamsClassified, 'Classified Bare Soil AprJun2017');
Map.addLayer(classifiedImage19, visParamsClassified, 'Classified Bare Soil JulSep2017');
Map.addLayer(classifiedImage20, visParamsClassified, 'Classified Bare Soil OctDec2017');
Map.addLayer(classifiedImage21, visParamsClassified, 'Classified Bare Soil JanMar2018');
Map.addLayer(classifiedImage22, visParamsClassified, 'Classified Bare Soil AprJun2018');
Map.addLayer(classifiedImage23, visParamsClassified, 'Classified Bare Soil JulSep2018');
Map.addLayer(classifiedImage24, visParamsClassified, 'Classified Bare Soil OctDec2018');
Map.addLayer(classifiedImage25, visParamsClassified, 'Classified Bare Soil JanMar2019');
Map.addLayer(classifiedImage26, visParamsClassified, 'Classified Bare Soil AprJun2019');
Map.addLayer(classifiedImage27, visParamsClassified, 'Classified Bare Soil JulSep2019');
Map.addLayer(classifiedImage28, visParamsClassified, 'Classified Bare Soil OctDec2019');
Map.addLayer(classifiedImage29, visParamsClassified, 'Classified Bare Soil JanMar2020');
Map.addLayer(classifiedImage30, visParamsClassified, 'Classified Bare Soil AprJun2020');
Map.addLayer(classifiedImage31, visParamsClassified, 'Classified Bare Soil JulSep2020');
Map.addLayer(classifiedImage32, visParamsClassified, 'Classified Bare Soil OctDec2020');
Map.addLayer(classifiedImage33, visParamsClassified, 'Classified Bare Soil JanMar2021');
Map.addLayer(classifiedImage34, visParamsClassified, 'Classified Bare Soil AprJun2021');
Map.addLayer(classifiedImage35, visParamsClassified, 'Classified Bare Soil JulSep2021');
Map.addLayer(classifiedImage36, visParamsClassified, 'Classified Bare Soil OctDec2021');
Map.addLayer(classifiedImage37, visParamsClassified, 'Classified Bare Soil JanMar2022');
Map.addLayer(classifiedImage38, visParamsClassified, 'Classified Bare Soil AprJun2022');
Map.addLayer(classifiedImage39, visParamsClassified, 'Classified Bare Soil JulSep2022');
Map.addLayer(classifiedImage40, visParamsClassified, 'Classified Bare Soil OctDec2022');
Map.addLayer(classifiedImage41, visParamsClassified, 'Classified Bare Soil JanMar2023');
Map.addLayer(classifiedImage42, visParamsClassified, 'Classified Bare Soil AprJun2023');
Map.addLayer(classifiedImage43, visParamsClassified, 'Classified Bare Soil JulSep2023');
Map.addLayer(classifiedImage44, visParamsClassified, 'Classified Bare Soil OctDec2023');
Map.addLayer(classifiedImage45, visParamsClassified, 'Classified Bare Soil OctDec2023');


var Nyandarua_BareSoil_201323 = (classifiedImage
    .blend(classifiedImage2)
    .blend(classifiedImage3)
    .blend(classifiedImage4)
    .blend(classifiedImage5)
    .blend(classifiedImage6)
    .blend(classifiedImage7)
    .blend(classifiedImage8)
    .blend(classifiedImage9)
    .blend(classifiedImage10)
    .blend(classifiedImage11)
    .blend(classifiedImage12)
    .blend(classifiedImage13)
    .blend(classifiedImage14)
    .blend(classifiedImage15)
    .blend(classifiedImage16)
    .blend(classifiedImage17)
    .blend(classifiedImage18)
    .blend(classifiedImage19)
    .blend(classifiedImage20)
    .blend(classifiedImage21)
    .blend(classifiedImage22)
    .blend(classifiedImage23)
    .blend(classifiedImage24)
    .blend(classifiedImage25)
    .blend(classifiedImage26)
    .blend(classifiedImage27)
    .blend(classifiedImage28)
    .blend(classifiedImage29)
    .blend(classifiedImage30)
    .blend(classifiedImage31)
    .blend(classifiedImage32)
    .blend(classifiedImage33)
    .blend(classifiedImage34)
    .blend(classifiedImage35)
    .blend(classifiedImage36)
    .blend(classifiedImage37)
    .blend(classifiedImage38)
    .blend(classifiedImage39)
    .blend(classifiedImage40)
    .blend(classifiedImage41)
    .blend(classifiedImage42)
    .blend(classifiedImage43)
    .blend(classifiedImage44)
    .blend(classifiedImage45)).select('B5','B6','B7')

print(Nyandarua_BareSoil_201323)

Map.addLayer(Nyandarua_BareSoil_201323, visParamsClassified, 'Nyandarua Bare Soil Image');
//print()

// Cast all bands to Float32
var BareSoil2023_Float32 = Nyandarua_BareSoil_201323.toFloat();

//print(BareSoil2023)
// Export the image
Export.image.toDrive({
  image: BareSoil2023_Float32,
  description: 'Nyandarua_BareSoil_2013_2023',
  folder: 'BareSoil_Project_V1',
  scale: 10,
  region: geometry
});

/*// Export the image
Export.image.toDrive({
  image: classifiedImage_Float32,
  description: 'Nyandarua_BareSoil_MayJun_2013',
  folder: 'BareSoil_Project',
  scale: 10,
  region: geometry
});

// Export the image
Export.image.toDrive({
  image: classifiedImage_Float32,
  description: 'Nyandarua_BareSoil_MayJun_2013',
  folder: 'BareSoil_Project',
  scale: 10,
  region: geometry
});

// Export the image
Export.image.toDrive({
  image: classifiedImage_Float32,
  description: 'Nyandarua_BareSoil_MayJun_2013',
  folder: 'BareSoil_Project',
  scale: 10,
  region: geometry
});*/
